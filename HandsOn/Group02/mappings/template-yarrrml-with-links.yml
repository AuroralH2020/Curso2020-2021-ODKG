prefixes:
  rr: http://www.w3.org/ns/r2rml/
  foaf: http://xmlns.com/foaf/0.1/
  xsd: http://www.w3.org/2001/XMLSchema/
  rdfs: http://www.w3.org/2000/01/rdf-schema/
  rev: http://purl.org/stuff/rev/
  schema: http://schema.org/
  dct: http://purl.org/dc/terms/
  rml: http://semweb.mmlab.be/ns/rml/
  ql: http://semweb.mmlab.be/ns/ql/
  rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns/
  vocab: http://MadridPublicContracts/ontology/
  owl: http://www.w3.org/2002/07/owl/
  
mappings:
  contractsmap:
    sources:
      - [actividad_contractual_ayto_madrid-with-links.csv~csv]
    s: http://MadridPublicContracts/ontology/$(Numero Contrato)
    po:
      - [a, vocab:Contrato]
      - [vocab:hasYear,$(AÃ±o),xsd:gYear]
      - [vocab:hasMonth,$(Mes),xsd:gMonth]
      - [vocab:hasExpNumber,$(Numero Expediente),xsd:string]
      - [vocab:hasDescription,$(Descripcion Contrato),xsd:string]
      - [vocab:hasContractType,$(Tipo Contrato),xsd:string]
      - [vocab:hasProcedure,$(Procedimiento Adjudicacion),xsd:string]
      - [vocab:hasArticle,$(Articulo),xsd:integer]
      - [vocab:hasSection,$(Apartado),xsd:string]
      - [vocab:hasCriteria,$(Criterios Adjudicacion),xsd:string]
      - [vocab:hasBudget,$(Presupuesto Total(IVA Incluido)),xsd:double]
      - [vocab:hasAmount,$(Importe Adjudicacion (IVA Incluido)),xsd:double]
      - [vocab:hasContractDate,$(Fecha Adjudicacion),xsd:dateTime]
      - [vocab:hasContractee,$(NIF/CIF Adjudicatario)]
      - [vocab:isDeal,$(Tiene acuerdo Marco),xsd:boolean]
      - [vocab:isZeroCost,$(Tiene Ingreso/Coste Cero),xsd:boolean]
      - [vocab:unitaryAdjudication,$(Adjudicado por precios unitarios),xsd:boolean]
      - p: vocab:hasContractor
        o:
          - mapping: juntasmap
            condition:
              function: equal
              parameters:
                - [str1, $(Organismo)]
                - [str2, $(NOMBRE)]

  contractormap:
    sources:
      - [actividad_contractual_ayto_madrid-with-links.csv~csv]
    s: http://MadridPublicContracts/ontology/$(Organismo)
    po:
      - [rdf:type, vocab:Contractor]
      - [vocab:orgtype, $(Descripcion Centro),xsd:string]
      - [owl:sameAs, $(wikidataOrganismo)~iri]

  contracteemap:
    sources:
      - [actividad_contractual_ayto_madrid-with-links.csv~csv]
    s: http://MadridPublicContracts/ontology/$(NIF/CIF Adjudicatario)
    po:
      - [rdf:type, vocab:Contractee]
      - [vocab:orgtype,$(Nombre/Razon Social),xsd:string]
  
  juntasmap:
    sources:
      - [juntas_distrito_ayuto_madrid-with-links.csv~csv]
    s: http://MadridPublicContracts/ontology/$(NOMBRE)
    po:
      - [rdf:type, vocab:Junta]
      - [vocab:hasSchedule,$(HORARIO),xsd:string]
      - [vocab:hasDescription,$(DESCRIPCION-ENTIDAD),xsd:string]
      - [vocab:publicTransport,$(TRANSPORTE),xsd:string]
      - [vocab:hasWeb,$(PAGINA WEB),xsd:string]
      - [vocab:isinRoad,$(NOMBRE-VIA),xsd:string]
      - [vocab:hasRoadType,$(TIPO-VIA),xsd:string]
      - [vocab:isinRoadNumber,$(NUMERO),xsd:integer]
      - [vocab:locality,$(LOCALIDAD),xsd:string]
      - [vocab:province,$(PROVINCIA),xsd:string]
      - [vocab:pc,$(CODIGO POSTAL),xsd:integer]
      - [vocab:neighborhood,$(BARRIO),xsd:string]
      - [vocab:district,$(DISTRITO),xsd:string]
      - [vocab:hasCoordenateX,$(COORDENADA-X),xsd:integer]
      - [vocab:hasCoordenateY,$(COORDENADA-Y),xsd:integer]
      - [vocab:hasEmail,$(EMAIL),xsd:string]
      - [owl:sameAs, $(wikiJUNTA)~iri]
    
neighborhoodmap:
  sources:
    - [juntas_distrito_ayuto_madrid-with-links.csv~csv]
  s: http://MadridPublicContracts/ontology/$(BARRIO)
  po:
    - [rdf:type, vocab:Barrio]
    - [owl:sameAs, $(wikiBARRIOS)~iri]
 
districtsmap:
  sources:
    - [juntas_distrito_ayuto_madrid-with-links.csv~csv]
  s: http://MadridPublicContracts/ontology/$(DISTRITO)
  po:
    - [rdf:type, vocab:Distrito]
    - [owl:sameAs, $(wikiDISTRITO)~iri]
    
provincemap:
  sources:
    - [juntas_distrito_ayuto_madrid-with-links.csv~csv]
  s: http://MadridPublicContracts/ontology/$(PROVINCIA)
  po:
    - [rdf:type, vocab:Provincia]
    - [owl:sameAs, $(wikiPROVINCIA)~iri]

localitymap:
  sources:
    - [juntas_distrito_ayuto_madrid-with-links.csv~csv]
  s: http://MadridPublicContracts/ontology/$(LOCALIDAD)
  po:
    - [rdf:type, vocab:Localidad]
    - [owl:sameAs, $(wikiLOCALIDAD)~iri]
